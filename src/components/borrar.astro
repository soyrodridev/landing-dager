--- 
import SectionComponents from "./SectionComponents.astro";
import YoutubeIcon from "./YoutubeIcon.astro"; 
---

<SectionComponents class="mt-8 relative overflow-hidden">
  <h2 class="text-4xl uppercase font-bold pl-5 relative punto after:shadow after:shadow-esmeralda100">
    Mis intereses
  </h2>

  <div class="galeria my-8">
    <div class="overflow-hidden bg-pepino img-galery relative bgafter">
      <div class="w-full h-full grid-contain">
        <div class="grid place-content-center">
          <h2 class="text-2xl font-medium mostrar">
            Amo los pepinos: frescos, crujientes y siempre deliciosos. 🥒😮‍💨
          </h2>
        </div>
        <h3 class="font-bold uppercase text-esmeralda100 pb-16 text-center text-2xl">
          pepinos
        </h3>
      </div>
    </div>

    <div class="overflow-hidden bg-guitarra img-galery relative bgafter">
      <div class="w-full h-full grid-contain">
        <div class="grid place-content-center">
          <h2 class="text-2xl font-medium mostrar">
            Me apasiona tocar la guitarra; es mi forma de conectar con la música y expresarme. 🎸
          </h2>
        </div>
        <h3 class="font-bold uppercase text-esmeralda100 pb-16 text-center text-2xl">
          La Guitarra
        </h3>
      </div>
    </div>

    <div class="overflow-hidden bg-programador img-galery relative bgafter">
      <div class="w-full h-full grid-contain">
        <div class="grid place-content-center">
          <h2 class="text-2xl font-medium mostrar">
            Me encanta transformar ideas en realidad 🧑‍💻
          </h2>
        </div>
        <h3 class="font-bold uppercase text-esmeralda100 pb-16 text-center text-2xl">
          Programacion
        </h3>
      </div>
    </div>

    <div class="overflow-hidden bg-gatito img-galery relative bgafter">
      <div class="w-full h-full grid-contain">
        <div class="grid place-content-center">
          <h2 class="text-2xl font-medium mostrar">
            Los peludos son mi debilidad, con sus ojitos traviesos y sus ronroneos suaves que hacen que todo sea más mágico. 🐾💖
          </h2>
        </div>
        <h3 class="font-bold uppercase text-esmeralda100 pb-16 text-center text-2xl">
          Gatitos
        </h3>
      </div>
    </div>
  </div>
</SectionComponents>

<style>
  .galeria {
    display: flex;
    width: 100%;
    height: 40rem;
    gap: 2rem;
    box-sizing: border-box;
  }

  .img-galery {
    width: 18rem;
    opacity: 0.8;
    transition: width 0.5s ease, opacity 0.5s ease, filter 0.5s ease;
    border-radius: 30px;
    background-position: center;
    position: relative;
  }

  .img-galery:hover {
    cursor: pointer;
    opacity: 1;
    filter: contrast(120%);
  }

  .mostrar {
    display: none;
    color: white;
    text-align: center;
    padding: 10px;
    transform: translateY(100%);
    transition: transform 0.3s ease-in-out;
  }
  

  .grid-contain {
    display: grid;
    grid-template-rows: 1fr auto;
  }

  .bgafter::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 30%;
    background: linear-gradient(to top, #1d1f1e 0%, rgba(29, 31, 30, 0) 100%);
    pointer-events: none;
  }

</style>

<script>
  let images = document.querySelectorAll(".img-galery");
  let currentIndex = 0;
  const mostrarTexto = document.querySelectorAll(".mostrar")

  function expandImage() {
    images.forEach((image) => {
      image.style.width = '18rem'; 
      image.style.opacity = '0.8'; 
      image.style.filter = 'none'; 
    });

    let currentImage = images[currentIndex];
    currentImage.style.width = '100%';
    
    currentImage.style.opacity = '1'; 
    currentImage.style.filter = 'contrast(120%)'; 

   
    currentIndex = (currentIndex + 1) % images.length;
  }

  setInterval(expandImage, 3000);

  expandImage();
</script>
